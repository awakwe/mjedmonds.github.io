<html>
  <head>
    <meta charset="utf-8">

    <title>JSON</title>

    <meta name="description" content="CS 80: Internet Programming Notes">
    <meta name="author" content="Mark Edmonds">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    
    <!-- Google analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-98378227-1', 'auto');
      ga('send', 'pageview');
    </script>

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="reveal.js/css/reveal.css">
    <link rel="stylesheet" href="reveal.js/css/theme/serif.css" id="theme">
    <link href='css/ubuntu_font.css' rel='stylesheet' type='text/css'>

    <link rel="shortcut icon" href="../../favicon.png">
    
    <style>
      body {
      padding-top: 30px;
      padding-bottom: 40px;
      }
      /* custom settings for reveal */
      reveal {
        font-size: 30px;
      }
      .reveal h1 {
        font-size: 3em; }

      .reveal h2 {
        font-size: 2em; }

      .reveal h3 {
        font-size: 1.25em; }

      .reveal h4 {
        font-size: 1em; }

      .reveal li {
        padding-top: 4px;
        padding-bottom: 4px;
      }
    </style>

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="css/highlightjs/atom-one-light.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <script src="js/modernizr-2.6.2-respond-1.1.0.min.js"></script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>
  </head>
  <body>
    
    <script src="js/nav.js"></script>

    <script>
      function toggleElements(one, two) {
      document.getElementById(one).style.display = 'none';
      document.getElementById(two).style.display = 'block';
      }
    </script>
    
    <!-- Main body -->
    
    <div class="reveal">
      <div class="slides">
        <!-- slide content will go here -->
        <section id="chapter-15.5-json" class="level2"><h2>Chapter 15.5: JSON</h2><p>CS 80: Internet Programming</p><p>Instructor: Mark Edmonds</p></section><section id="json-describes-data" class="level2"><h2>JSON describes data</h2><ul><li>XML let us specify a data format</li><li>There's another extremely relevant data format: JSON</li><li>JSON stands for <strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation</li></ul></section><section id="json-desribes-data" class="level2"><h2>JSON desribes data</h2><ul><li>In Javascript, basically everything is an object, so we are literally defining an object with JSON</li><li>A simple example:<ul><li>Suppose you wanted a list of employees, each with a first and last name. What would the XML look like?</li></ul></li></ul></section><section id="json-describes-data-1" class="level2"><h2>JSON describes data</h2><ul><li>Possibily something like this:</li></ul><pre class="xml"><code>&lt;employees&gt;
            &lt;employee&gt;
                &lt;firstName&gt;John&lt;/firstName&gt; 
                &lt;lastName&gt;Doe&lt;/lastName&gt;
            &lt;/employee&gt;
            &lt;employee&gt;
                &lt;firstName&gt;Anna&lt;/firstName&gt; 
                &lt;lastName&gt;Smith&lt;/lastName&gt;
            &lt;/employee&gt;
            &lt;employee&gt;
                &lt;firstName&gt;Peter&lt;/firstName&gt;
                &lt;lastName&gt;Jones&lt;/lastName&gt;
            &lt;/employee&gt;
        &lt;/employees&gt;</code></pre></section><section id="json-describes-data-2" class="level2"><h2>JSON describes data</h2><ul><li>JSON follows a <code>{&quot;attribute&quot; : &quot;value&quot; , ... }</code> model for representing data<ul><li><code>[]</code> can be the value, indicating an array</li><li>Let's see an example of what we did above</li></ul></li></ul></section><section id="json-describes-data-3" class="level2"><h2>JSON describes data</h2><pre class="json"><code>{&quot;employees&quot;:[
          {&quot;firstName&quot;:&quot;John&quot;, &quot;lastName&quot;:&quot;Doe&quot;},
          {&quot;firstName&quot;:&quot;Anna&quot;, &quot;lastName&quot;:&quot;Smith&quot;},
          {&quot;firstName&quot;:&quot;Peter&quot;, &quot;lastName&quot;:&quot;Jones&quot;}
        ]}</code></pre></section><section id="why-is-json-good" class="level2"><h2>Why is JSON good?</h2><ul><li>The web runs on Javascript</li><li>There's a magical parsing function that converts JSON into an actual Javascript object:<ul><li><code>JSON.parse(json_text)</code> where <code>json_text</code> is valid JSON text (e.g.Â the text above)</li></ul></li></ul></section><section id="why-is-json-good-1" class="level2"><h2>Why is JSON good?</h2><ul><li>Very similar to XML: human readable, hierarchical, widely usable, can be used with Ajax (soon to be covered)</li><li>Dissimilar from XML: no end tag, shorter, quicker to read and write, can use arrays</li><li><strong>The biggest difference: XML has to be parsed by a specialized XML parser. JSON is parsed with one simple Javascript function call</strong></li><li>Here's an example of loading JSON into an object:</li></ul></section><section id="example-simple_json.html" class="level2"><h2>Example: <a href="../examples/ch15.5_json/simple_json.html"><code>simple_json.html</code></a></h2><pre><code>&lt;!DOCTYPE html&gt;
        &lt;html&gt;
        
        &lt;head&gt;
          &lt;meta charset=&quot;utf-8&quot;&gt;
          &lt;title&gt;Simple JSON example&lt;/title&gt;
          &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js&quot;&gt;&lt;/script&gt;
          &lt;script&gt;
          // run when the document is ready
          $(document).ready(function(){
            // create JSON data
            var text = &#39;{&quot;name&quot;:&quot;John Johnson&quot;,&quot;street&quot;:&quot;Oslo West 16&quot;,&quot;phone&quot;:&quot;555 1234567&quot;}&#39;;
        
            // parse it into an object
            var obj = JSON.parse(text);
        
            // access members/attributes of the new object
            document.getElementById(&quot;demo&quot;).innerHTML =
              obj.name + &quot;&lt;br&gt;&quot; +
              obj.street + &quot;&lt;br&gt;&quot; +
              obj.phone;
          });
          
         &lt;/script&gt;
        &lt;/head&gt;
        
        &lt;body&gt;
        
          &lt;h2&gt;JSON Object Creation in JavaScript&lt;/h2&gt;
        
          &lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;
        
        &lt;/body&gt;
        
        &lt;/html&gt;
        </code></pre></section><section id="json-values" class="level2"><h2>JSON Values</h2><ul><li>number (int or float)</li><li>string (double-quoted)</li><li>boolean</li><li>array (indicated with square brackets)</li><li>object (another pair of curly braces)</li><li>null (no content)</li></ul></section><section id="json-values-1" class="level2"><h2>JSON Values</h2><ul><li>How would you load and print <code>employees</code> JSON object above?</li></ul></section><section id="example-employee_json.html" class="level2"><h2>Example: <a href="../examples/ch15.5_json/employee_json.html"><code>employee_json.html</code></a></h2><pre><code>&lt;!DOCTYPE html&gt;
        &lt;html&gt;
        
        &lt;head&gt;
          &lt;meta charset=&quot;utf-8&quot;&gt;
          &lt;title&gt;Employee JSON example&lt;/title&gt;
          &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js&quot;&gt;&lt;/script&gt;
          &lt;script&gt;
            // run when the document is ready
            $(document).ready(function() {
              // create JSON text
              var data = &#39;{&quot;employees&quot;: [ {&quot;firstName&quot;: &quot;John&quot;,&quot;lastName&quot;: &quot;Doe&quot; }, {&quot;firstName&quot;: &quot;Anna&quot;, &quot;lastName&quot;: &quot;Smith&quot;}, {&quot;firstName&quot;: &quot;Peter&quot;,&quot;lastName&quot;: &quot;Jones&quot; }]}&#39;;
        
              // parse JSON text into object
              var employees_obj = JSON.parse(data);
        
              // setup document
              document.writeln(&quot;&lt;h2&gt;Employees list&lt;/h2&gt;&quot;);
              document.writeln(&quot;&lt;p&gt;&quot;);
              // loop over every employee
              for (var i = 0; i &lt; employees_obj.employees.length; i++) {
                // print employee info  
                document.writeln(employees_obj.employees[i].firstName + &quot; &quot; + employees_obj.employees[i].lastName + &quot;&lt;br&gt;&quot;);
              }
              document.writeln(&quot;&lt;/p&gt;&quot;);
            });
          &lt;/script&gt;
        &lt;/head&gt;
        
        &lt;body&gt;
        &lt;/body&gt;
        
        &lt;/html&gt;
        </code></pre></section><section id="json-javascript" class="level2"><h2>JSON &amp; JavaScript</h2><ul><li>Because of JSON's deep connection with Javascript objects, we can actually declare Javascript objects using JSON syntax without needing to parse<ul><li>Javascript natively supports the ability to create objects using JSON syntax</li><li>Example for our employees:</li></ul></li></ul></section><section id="example-employee_js.html" class="level2"><h2>Example: <a href="../examples/ch15.5_json/employee_js.html"><code>employee_js.html</code></a></h2><pre><code>&lt;!DOCTYPE html&gt;
        &lt;html&gt;
        
        &lt;head&gt;
          &lt;meta charset=&quot;utf-8&quot;&gt;
          &lt;title&gt;Employee JSON example&lt;/title&gt;
          &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js&quot;&gt;&lt;/script&gt;
          &lt;script&gt;
            // run when the document is ready
            $(document).ready(function() {
              // create JS object using JSON syntax
              var employees = [ { firstName: &quot;John&quot;,&quot;lastName&quot;: &quot;Doe&quot; }, {&quot;firstName&quot;: &quot;Anna&quot;, &quot;lastName&quot;: &quot;Smith&quot;}, {&quot;firstName&quot;: &quot;Peter&quot;,&quot;lastName&quot;: &quot;Jones&quot; }];
        
              // setup document
              document.writeln(&quot;&lt;h2&gt;Employees list&lt;/h2&gt;&quot;);
              document.writeln(&quot;&lt;p&gt;&quot;);
              // loop over every employee
              for (var i = 0; i &lt; employees.length; i++) {
                // print employee info  
                document.writeln(employees[i].firstName + &quot; &quot; + employees[i].lastName + &quot;&lt;br&gt;&quot;);
              }
              document.writeln(&quot;&lt;/p&gt;&quot;);
            });
          &lt;/script&gt;
        &lt;/head&gt;
        
        &lt;body&gt;
        &lt;/body&gt;
        
        &lt;/html&gt;
        </code></pre></section>
      </div>
    </div>
    
    <!-- end main body -->
    
    <script src="lib/js/head.min.js"></script>
    <script src="reveal.js/js/reveal.js"></script>
    
    <script>
      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,
      mouseWheel: false,
      rollingLinks: false,
      showNotes: true,

      theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
      transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none

      // Optional libraries used to extend on reveal.js
      dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      // { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
      { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
      // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
      { src: 'plugin/math/math.js', async: true }
      ]
      });

    </script>

    <script>window.jQuery || document.write('<script src="js/jquery-3.2.1.min.js"><\/script>')</script>
    <script src="js/bootstrap.min.js"></script>

<!--
    <script>
      Reveal.addEventListener( 'slidechanged', function( event ) {
      // event.previousSlide, event.currentSlide, event.indexh, event.indexv
      var notes = event.currentSlide.querySelector(".notes");
      if(notes) {
          console.info("---");
          console.info(notes.innerHTML.replace(/\n\s+/g,'\n'));
      }
      } );
    </script>
-->

    <script>
      Reveal.configure({ slideNumber: 'c/t' });
    </script>


    <script src="js/main.js"></script>
    <!-- Default Statcounter code for Personal website http://mjedmonds.com -->
  <script type="text/javascript">
  var sc_project=11819202; 
  var sc_invisible=0; 
  var sc_security="3d207e19"; 
  var sc_https=1; 
  var scJsHost = (("https:" == document.location.protocol) ? "https://secure." :
  "http://www.");
  document.write("<sc"+"ript type='text/javascript' src='" + scJsHost+
  "statcounter.com/counter/counter.js'></"+"script>");
  </script>
  <noscript><div class="statcounter"><a title="Web Analytics Made Easy -
  StatCounter" href="http://statcounter.com/" target="_blank"><img
  class="statcounter" src="//c.statcounter.com/11819202/0/3d207e19/0/" alt="Web
  Analytics Made Easy - StatCounter"></a></div></noscript>
  <!-- End of Statcounter Code -->
  </body>
</html>
